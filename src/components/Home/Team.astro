---
import Abrorbek from "../../assets/images/Team/Abdulaziz.jpg";
import Husniddin from "../../assets/images/Team/Sardor.jpg";
import Mirovskiy from "../../assets/images/Team/Shahzodbek.jpg";
import Alexandr from "../../assets/images/Team/Firdavs.jpg";
import AlexandrMirovskiy from "../../assets/images/Team/Rustambek.jpg";
import Jamshid from "../../assets/images/Team/Jamshid.jpg";
---

<!-- Universal Infinite Carousel (all screen sizes) -->
<div class="py-12 sm:py-16 lg:py-[80px] mb-16 px-4">
  <div class="relative">
    <div
      id="slider"
      class="flex overflow-x-auto hide-scrollbar gap-4 pb-4"
    >
      <!-- Member 1 -->
      <div class="flex-none w-48 md:w-1/5 flex flex-col items-start">
        <div class="w-full aspect-[5/5]  mb-2">
          <img src={Abrorbek.src} alt="Abdulaziz Yakubov" class="w-full h-[250px] rounded-[24px] object-cover" />
        </div>
        <p class="text-center text-sm font-medium font-inter-tight">Abdulaziz Yakubov</p>
      </div>
      <!-- Member 2 -->
      <div class="flex-none w-48 md:w-1/5 flex flex-col items-start">
        <div class="w-full aspect-[5/5]  mb-2">
          <img src={Husniddin.src} alt="Sardor Ochilov" class="w-full h-[311px] rounded-[24px] object-cover" />
        </div>
        <p class="text-center text-sm font-medium font-inter-tight">Sardor Ochilov</p>
      </div>
      <!-- Member 3 -->
      <div class="flex-none w-48 md:w-1/5 flex flex-col items-start">
        <div class="w-full aspect-[5/5]  mb-2">
          <img src={Mirovskiy.src} alt="Shaxzodbek Isroilov" class="w-full h-[288px] rounded-[24px] object-cover" />
        </div>
        <p class="text-center text-sm font-medium font-inter-tight">Shaxzodbek Isroilov</p>
      </div>
      <!-- Member 4 -->
      <div class="flex-none w-48 md:w-1/5 flex flex-col items-start">
        <div class="w-full aspect-[5/5]  mb-2">
          <img src={Alexandr.src} alt="Firdavs Urinov" class="w-full h-[254px] rounded-[24px] object-cover" />
        </div>
        <p class="text-center text-sm font-medium font-inter-tight">Firdavs Urinov</p>
      </div>
      <!-- Member 5 -->
      <div class="flex-none w-48 md:w-1/5 flex flex-col items-start">
        <div class="w-full aspect-[5/5]  mb-2">
          <img src={Jamshid.src} alt="Jamshid Shoimurodov" class="w-full h-[311px] rounded-[24px] object-cover" />
        </div>
        <p class="text-center text-sm font-medium font-inter-tight">Jamshid Shoimurodov</p>
      </div>
      <!-- Member 6 -->
      <div class="flex-none w-48 md:w-1/5 flex flex-col items-start">
        <div class="w-full aspect-[5/5]  mb-2">
          <img src={AlexandrMirovskiy.src} alt="Rustambek Abakulov" class="w-full h-[311px] rounded-[24px] object-cover" />
        </div>
        <p class="text-center text-sm font-medium font-inter-tight">Rustambek Abakulov</p>
      </div>
    </div>
  </div>
</div>

<script type="module" client:load>
  const slider = document.getElementById('slider');
  const items = Array.from(slider.children);
  items.forEach(item => slider.appendChild(item.cloneNode(true)));

  let pos = 0;
  const speed = 0.5;
  let animId;

  function loop() {
    pos += speed;
    if (pos >= slider.scrollWidth / 2) pos -= slider.scrollWidth / 2;
    slider.scrollLeft = pos;
    animId = requestAnimationFrame(loop);
  }

  animId = requestAnimationFrame(loop);
  slider.addEventListener('mouseenter', () => cancelAnimationFrame(animId));
  slider.addEventListener('mouseleave', () => (animId = requestAnimationFrame(loop)));
</script>
